<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="FilipinoFolkloreApp.Views.AvatarSelectionPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Choose Your Character"
             BackgroundImageSource="selectionpage.jpg"
             Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="Auto, *" Padding="20" VerticalOptions="Center">

        <CollectionView
            x:Name="AvatarGrid"
            ItemsLayout="VerticalGrid,4"
            SelectionMode="Single"
            SelectionChanged="AvatarGrid_SelectionChanged"> 
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Image Source="{Binding ImageSource}"
                   HeightRequest="150" />
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
        
        <Grid
            x:Name="PointsOverlay"
            IsVisible="False"
            VerticalOptions="FillAndExpand"
            HorizontalOptions="FillAndExpand">

            <Image
                Source="image4.jpg"
                Aspect="AspectFill"
                Opacity="1.0"
                VerticalOptions="FillAndExpand"
                HorizontalOptions="FillAndExpand" />

            <Grid ColumnDefinitions="Auto,*,Auto"
                  VerticalOptions="FillAndExpand"
                  HorizontalOptions="FillAndExpand"
                  Padding="20">

                <Image Source="monkey.png"
                       Grid.Column="0"
                       WidthRequest="140"
                       HeightRequest="140"
                       VerticalOptions="Center"
                       HorizontalOptions="Start"
                       Margin="50,0,0,0" />

                <Grid Grid.Column="1"
                      HorizontalOptions="Center"
                      VerticalOptions="Center">
                    <HorizontalStackLayout Spacing="12" VerticalOptions="Center" HorizontalOptions="Center">
                        <Image Source="pluss.png"
                                   Grid.Column="0"
                                   WidthRequest="100"
                                   HeightRequest="100"
                                   VerticalOptions="Center"
                                   HorizontalOptions="Start"
                                   Margin="0,0,0,0" />

                        <Grid VerticalOptions="Center" HorizontalOptions="Center">
                            <Label x:Name="PointsShadow"
                                   Text="50"
                                   FontSize="80"
                                   FontAttributes="Bold"
                                   TextColor="Black"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"
                                   Margin="2,2,0,0" />
                            <Label x:Name="PointsLabel"
                                   Text="50"
                                   FontSize="80"
                                   FontAttributes="Bold"
                                   TextColor="#FFD000"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center" />
                        </Grid>

                        <Image Source="star.png"
                               WidthRequest="64"
                               HeightRequest="64"
                               VerticalOptions="Center"
                               HorizontalOptions="Center" />

                        <Label Text="PILON STAR"
                               FontSize="38"
                               FontAttributes="Bold"
                               TextColor="#FFD000"
                               VerticalOptions="Center"
                               HorizontalOptions="Start" />
                    </HorizontalStackLayout>
                </Grid>
            </Grid>
        </Grid>

    </Grid>
</ContentPage>
